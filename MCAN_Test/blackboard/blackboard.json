{
    "copyright": "Copyright (c) 2018 Sunrise Labs, Inc.
                  All rights reserved.",
    "readme": "
This file provides a schema for the Blackboard implementation in the 3P-100 project.
",

    "sections": [
        {
            "name": "UIX",
            "messages": [
                
                {
                    "name": "UIX_SystemInfo",
                    "description": "The UIX system info",
                    "id": "0x500",
                    "periodMs": 100,
                    "tx": [
                        "CAN_CHAN1"
                    ],
                    "rx": [],
                    "callbacks": null,
                    "variables": [
                        {
                            "name": "uix_sw_version",
                            "description": "Versions are generated by git hashes or tags.  Tags are expected to be in <prefix>XX.XX.XX format,
 where XX is a decimal number between 0 and 255.
 Format of BUILD_VERSION is TTTTTTID, where TTTTTT is a six hex digit (24 bit) unique
 identifier for the git hash or git tag corresponding to the build, I is a hex digit where 0
 corresponds to the identifier being a tag and where 1 corresponds to the identifier being a hash
 and D is a hex digit with 0 and D corresponding to a clean and dirty git repository respectively.
 If the 3 byte identifier is a hash, it corresponds to the first 6 characters of the git SHA-1
 hash associated with the most recent commit.  If the 3 byte identifier is a tag, the tag is
 expected to be of the form MM.mm.BB, where each character is a base 10 number in the range 0-255.
 Where:
   MM : major version
   mm : minor version
   BB : build version",

              "size": 32,
                            "units": "",
                            "resolutionBits": 0
                        }
                    ]
                },
                
                
                
                {
                    "name": "WallClock",
                    "description": "Contains the current time measured by the UIX WallClock module.",
                    "id": "0x485",
                    "periodMs": 100,
                    "tx": [
                        "CAN_CHAN1"
                    ],
                    "rx": [
                        "CANTool"
                    ],
                    "callbacks": null,
                    "variables": [
                        {
                            "name": "WallClockLower",
                            "description": "Lower 32-bits of the WallClock time in milliseconds UTC",
                            "size": 32,
                            "units": "milliseconds UTC",
                            "resolutionBits": 0
                        },
                        {
                            "name": "WallClockUpper",
                            "description": "Upper 32-bits of the WallClock time in milliseconds UTC",
                            "size": 32,
                            "units": "milliseconds UTC",
                            "resolutionBits": 0
                        }
                    ]
                }
                                
                
                
                
                
                
            ]
        },
        {
            "name": "GDN",
            "messages": [
                {
                    "name": "DeviceSettingsResponse",
                    "description": "Dose Settings echoed back by the GDN",
                    "id": "0x400",
                    "periodMs": 100,
                    "tx": [
                        "CAN_CHAN1"
                    ],
                    "rx": [
                        "UIX"
                    ],
                    "callbacks": [
                        {
                            "section": "UIX",
                            "fn": "doseSettingResponseCallback",
                            "param": "UIX_EVENT_FOO"
                        }
                    ],
                    "variables": [
                        {
                            "name": "response_treatmentLevel_Q10",
                            "description": "The treatment level : 0 = off, 2048 = setting A, 4096 = setting B, 6144 = setting C",
                            "size": 16,
                            "units": "level_unit",
                            "resolutionBits": 0
                        },
                        {
                            "name": "response_treatmentMode",
                            "description": "The treatment mode : 0 = off // Off mode, 1 = iNO // Non placebo iNO mode, 2 = placebo // Placebo mode",
                            "size": 16,
                            "units": "mode_enum",
                            "resolutionBits": 0
                        },
                        {
                            "name": "response_status",
                            "description": "The status of the device setting request",
                            "size": 16,
                            "units": "status_enum",
                            "resolutionBits": 0
                        },
                        {
                            "name": "response_counter",
                            "description": "The counter incremented by GDN",
                            "size": 16,
                            "units": "int",
                            "resolutionBits": 0
                        }
                    ]
                },
                {
                    "name": "eNODeliveringStatus",
                    "description": "eNO Delivering status reported by the GDN",
                    "id": "0x401",
                    "periodMs": 100,
                    "tx": [
                        "CAN_CHAN1"
                    ],
                    "rx": [
                        "UIX"
                    ],
                    "callbacks": [
                        {
                            "section": "UIX",
                            "fn": "eNODeliveringStatusCallback",
                            "param": "NULL"
                        }
                    ],
                    "variables": [
                        {
                            "name": "isENODelivering",
                            "description": "The eNO delivering status",
                            "size": 8,
                            "units": "bool",
                            "resolutionBits": 0
                        }
                    ]
                },
                {
                    "name": "GDNStatus",
                    "description": "GDN status",
                    "id": "0x404",
                    "periodMs": 100,
                    "tx": [
                        "CAN_CHAN1"
                    ],
                    "rx": [
                        "UIX"
                    ],
                    "callbacks": [
                        {
                            "section": "UIX",
                            "fn": "gdnStatusCallback",
                            "param": "NULL"
                        }
                    ],
                    "variables": [
                        {
                            "name": "statusBits",
                            "description": "A bit mask of GDN status values:
Bits:
  0: GCC Present
  1: GDN POST Test Complete
    2:7: Reserved",
                            "size": 8,
                            "units": "bit mask",
                            "resolutionBits": 0
                        }
                    ]
                }
                
                
                
                
                
            ]
        },
        { "name": "SCM",
		  "messages": [
            { "name": "Motor1Params1", 
			    "description": "Contains motor parameter settings",
				"id": "0x410",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"],
				"rx": ["RCM"],
				"callbacks": null,
				"variables": [
					{
					  "name": "motor1Acceleration",
					  "description": "Motor 1 Acceleration",
					  "size": 16,
					  "units": "step/s^2",
					  "resolutionBits": 3
					},
					{
					  "name": "motor1Deceleration",
					  "description": "Test",
					  "size": 16,
					  "units": "step/s^2",
					  "resolutionBits": 2
					},
					{
					  "name": "motor1MaxSpeed",
					  "description": "Test",
					  "size": 16,
					  "units": "step/s",
					  "resolutionBits": 2
					},
					{
					  "name": "motor1MinSpeed",
					  "description": "Test",
					  "size": 16,
					  "units": "step/s",
					  "resolutionBits": 2
					}					
				]
			  },
 			  { "name": "Motor1Control", 
			    "description": "Motor 1 control",
				"id": "0x460",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"],
				"rx": ["RCM"],
				"callbacks": null,
				"variables": [
					{
					  "name": "Motor1Control",
					  "description": "Test",
					  "size": 8,
					  "units": "steps",
					  "resolutionBits": 0
					}
				]
			  },
			  { "name": "Motor2Control", 
			    "description": "Motor 2 control",
				"id": "0x470",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"],
				"rx": ["RCM"],
				"callbacks": null,
				"variables": [
					{
					  "name": "Motor2Control",
					  "description": "Test",
					  "size": 8,
					  "units": "steps",
					  "resolutionBits": 0
					}
				]
			  },
			  { "name": "Motor3Control", 
			    "description": "Motor 3 control",
				"id": "0x480",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"],
				"rx": ["RCM"],
				"callbacks": null,
				"variables": [
					{
					  "name": "Motor3Control",
					  "description": "Test",
					  "size": 8,
					  "units": "steps",
					  "resolutionBits": 0
					}
				]
			  }	  				  			  
		  ]
		},
        { "name": "RCM",
		  "messages": [
			  { "name": "System",
			    "description": "Contains various system level elements",
				"id": "0x630",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"], 
				"rx": ["SCM"],
				"callbacks": [
					{ "section": "SCM", "fn": "SCMCallback_print", "param": "SCM_EVENT" }
				],
	        	"variables": [
					{ "name": "ModuleId",
					  "description": "RCM Module ID",
					  "size": 8,
					  "units": "data", "resolutionBits": 0
					}
				]
			  },
			  { "name": "Sensor1",
			    "description": "Contains information from sensor 1",
				"id": "0x631",
				"periodMs": 100,
				"tx": ["CAN_CHAN1"],
				"rx": ["SCM"],
				"callbacks": null,
	        	"variables": [
					{ "name": "Sensor1Voltage",
					  "description": "Voltage for Sensor 1",
					  "size": 16,
					  "units": "V", "resolutionBits": 3
					},
					{ "name": "Sensor1Temperature",
					  "description": "Temperature for Sensor 1",
					  "size": 16,
					  "units": "C", "resolutionBits": 3
					},
					{ "name": "Sensor1Foo",
					  "description": "Voltage for Sensor 1",
					  "size": 16,
					  "units": "V", "resolutionBits": 3
					},
					{ "name": "Sensor1Bar",
					  "description": "Temperature for Sensor 1",
					  "size": 16,
					  "units": "C", "resolutionBits": 3
					}
				]
			  }
		  ]
		}
        
        
    ]
}
